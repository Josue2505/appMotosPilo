<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendar Cita</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="../css/Horario.css" />
    <script src="../Header/Header.js" defer></script>
    <script src="../Footer/Footer.js" defer></script>
</head>

<body>
    <header>
        <mi-header></mi-header>
    </header>

    <div class="container mt-5">
        <h2 class="text-center">Agendar Cita</h2>
        <div class="mb-3">
            <label for="fecha" class="form-label">Selecciona una fecha:</label>
            <input type="date" id="fecha" class="form-control" min="">
        </div>
        <div class="mb-3">
            <label for="hora" class="form-label">Selecciona una hora:</label>
            <select id="hora" class="form-select">
                <option value="" disabled selected>Selecciona una hora</option>
            </select>
        </div>
        <button id="agendar" class="btn btn-primary w-100 " style="background-color:brown; border-color: brown;">Agendar Cita</button>
       
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let hoy = new Date().toISOString().split("T")[0];
            document.getElementById("fecha").setAttribute("min", hoy);

            let selectHora = document.getElementById("hora");
            for (let i = 8; i <= 16; i++) {
                let hora12 = i <= 12 ? `${i}:00 AM` : `${i - 12}:00 PM`;
                let hora24 = i < 10 ? `0${i}:00` : `${i}:00`;
                let option = document.createElement("option");
                option.value = hora24;
                option.textContent = hora12;
                selectHora.appendChild(option);
            }
        });

        document.getElementById("agendar").addEventListener("click", function () {
            let fecha = document.getElementById("fecha").value;
            let hora = document.getElementById("hora").value;
            let horaTexto = document.getElementById("hora").selectedOptions[0].text;

            if (!fecha || !hora) {
                alert("Por favor selecciona una fecha y una hora");
                return;
            }

            let confirmacion = confirm(`¿Desea agendar su cita el día ${fecha} a las ${horaTexto}?`);
            if (confirmacion) {
                let mensaje = `Agendar cita el día ${fecha} a las ${horaTexto}`;
                let telefono = "+50684201547"; // Reemplaza con tu número de WhatsApp
                let url = `https://wa.me/${telefono}?text=${encodeURIComponent(mensaje)}`;
                window.location.href = url;
            }
        });
    </script>

    <footer class="footer">
        <mi-footer></mi-footer>
    </footer>
</body>

</html>